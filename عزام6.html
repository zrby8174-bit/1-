<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اللجنة العلمية المركزية - جامعة صنعاء</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        :root { --main-color: #1e3a8a; --accent-color: #f59e0b; }
        body { font-family: 'Cairo', sans-serif; transition: 0.5s; background-color: #f8fafc; }
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .admin-view { display: none; }
        .section-card { transition: 0.4s; cursor: pointer; border-radius: 20px; }
        .section-card:hover { transform: translateY(-10px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        #registration-page { display: none; }
    </style>
</head>
<body>

    <div id="registration-page" class="min-h-screen flex items-center justify-center p-4 bg-gray-100">
        <div class="max-w-md w-full bg-white p-8 rounded-3xl shadow-2xl text-center">
            <h2 class="text-2xl font-bold mb-6">نموذج تسجيل الطالب</h2>
            <input id="reg-name" type="text" placeholder="الاسم الكامل" class="w-full p-3 mb-4 border rounded-xl">
            <input id="reg-id" type="text" placeholder="الرقم الجامعي" class="w-full p-3 mb-4 border rounded-xl">
            <button onclick="submitStudentData()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold">تسجيل الآن</button>
            <p class="mt-4 text-sm text-gray-400">نظام التسجيل الموحد - جامعة صنعاء</p>
        </div>
    </div>

    <div id="main-site">
        <header id="header-bg" class="bg-blue-900 text-white py-16 px-4 text-center relative overflow-hidden">
            <div class="relative z-10" data-aos="zoom-in">
                <img id="display-logo" src="https://via.placeholder.com/120" class="h-28 w-28 mx-auto mb-6 rounded-full border-4 border-white shadow-lg object-cover">
                <h1 id="secret-title" class="text-4xl md:text-6xl font-extrabold cursor-pointer">اللجنة العلمية المركزية | جامعة صنعاء</h1>
                <p class="mt-4 text-xl opacity-90">التميز العلمي والتطوير الأكاديمي المستمر</p>
                <div class="mt-6 flex justify-center gap-4 text-sm">
                    <span class="bg-blue-800 px-4 py-1 rounded-full"><i class="fas fa-eye ml-1"></i> المشاهدات: <span id="view-count">0</span></span>
                </div>
            </div>
        </header>

        <main class="container mx-auto px-4 py-12">
            <div id="sections-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" data-aos="fade-up">
                </div>

            <section class="mt-20 text-center" data-aos="fade-up">
                <h2 class="text-3xl font-bold mb-8">تواصل معنا</h2>
                <div class="flex justify-center gap-6">
                    <a href="#" class="text-blue-600 text-4xl hover:scale-125 transition"><i class="fab fa-telegram"></i></a>
                    <a href="#" class="text-green-600 text-4xl hover:scale-125 transition"><i class="fab fa-whatsapp"></i></a>
                    <a href="#" class="text-blue-400 text-4xl hover:scale-125 transition"><i class="fab fa-facebook"></i></a>
                </div>
            </section>
        </main>

        <div id="admin-panel" class="admin-view fixed inset-0 z-[100] bg-white overflow-y-auto p-6 md:p-12">
            <div class="flex justify-between items-center border-b pb-6 mb-8">
                <h2 class="text-3xl font-bold text-gray-800">إدارة النظام العالمي</h2>
                <button onclick="closeAdmin()" class="bg-gray-200 p-3 rounded-full hover:bg-red-100"><i class="fas fa-times"></i></button>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <div class="space-y-6">
                    <div class="bg-gray-50 p-6 rounded-3xl border">
                        <h3 class="font-bold mb-4"><i class="fas fa-paint-brush ml-2"></i> المظهر والشعار</h3>
                        <label class="block text-sm mb-2">لون الموقع الرئيسي:</label>
                        <input type="color" id="theme-color" onchange="changeTheme()" class="w-full h-10 rounded-lg mb-4">
                        
                        <label class="block text-sm mb-2">تغيير الشعار (من المعرض):</label>
                        <input type="file" id="logo-upload" accept="image/*" onchange="handleLogoUpload(this)" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    </div>
                </div>

                <div class="lg:col-span-2 space-y-6">
                    <div class="bg-gray-50 p-6 rounded-3xl border">
                        <h3 class="font-bold mb-4"><i class="fas fa-plus-circle ml-2"></i> إضافة قسم أو ملف PDF</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <input id="sec-name" type="text" placeholder="اسم القسم الجديد" class="p-3 border rounded-xl">
                            <button onclick="addSection()" class="bg-blue-600 text-white rounded-xl">إنشاء قسم</button>
                        </div>
                        <hr class="my-6">
                        <div class="space-y-4">
                            <select id="select-sec" class="w-full p-3 border rounded-xl"></select>
                            <input id="item-title" type="text" placeholder="عنوان الملف أو الرابط" class="w-full p-3 border rounded-xl">
                            <input type="file" id="pdf-upload" accept=".pdf" class="w-full p-3 border rounded-xl">
                            <button onclick="uploadContent()" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold">نشر المحتوى</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="bg-white border-t py-10 text-center mt-20">
            <p>© جميع حقوق النشر محفوظة للجنة العلمية المركزية - جامعة صنعاء 2025</p>
        </footer>
    </div>

    <script>
        AOS.init();
        
        // قاعدة البيانات
        let systemData = JSON.parse(localStorage.getItem('su_global_db')) || {
            theme: '#1e3a8a',
            logo: 'https://via.placeholder.com/120',
            views: 0,
            sections: [
                { id: 1, name: "القنوات التعليمية", items: [] },
                { id: 2, name: "المكتبة الإلكترونية", items: [] }
            ],
            students: [],
            password: '123'
        };

        // فحص الروابط (إذا كان رابط تسجيل)
        const urlParams = new URLSearchParams(window.location.search);
        if(urlParams.get('page') === 'register') {
            document.getElementById('main-site').style.display = 'none';
            document.getElementById('registration-page').style.display = 'flex';
        }

        // عداد الزيارات
        systemData.views++;
        localStorage.setItem('su_global_db', JSON.stringify(systemData));

        function renderSite() {
            document.getElementById('header-bg').style.backgroundColor = systemData.theme;
            document.getElementById('display-logo').src = systemData.logo;
            document.getElementById('view-count').innerText = systemData.views;

            const container = document.getElementById('sections-container');
            const select = document.getElementById('select-sec');
            container.innerHTML = '';
            select.innerHTML = '';

            systemData.sections.forEach(sec => {
                container.innerHTML += `
                    <div onclick="alert('سيتم فتح المحتوى')" class="section-card bg-white p-10 text-center border shadow-sm">
                        <div class="text-5xl mb-4" style="color: ${systemData.theme}"><i class="fas fa-folder"></i></div>
                        <h3 class="text-xl font-bold">${sec.name}</h3>
                        <p class="text-sm text-gray-400 mt-2">${sec.items.length} محتوى</p>
                    </div>
                `;
                select.innerHTML += `<option value="${sec.id}">${sec.name}</option>`;
            });
        }

        // تغيير الشعار من المعرض
        function handleLogoUpload(input) {
            const file = input.files[0];
            const reader = new FileReader();
            reader.onloadend = function() {
                systemData.logo = reader.result;
                saveData();
            }
            if (file) reader.readAsDataURL(file);
        }

        // تغيير الثيم
        function changeTheme() {
            systemData.theme = document.getElementById('theme-color').value;
            saveData();
        }

        // سر الدخول
        let clicks = 0;
        document.getElementById('secret-title').onclick = () => {
            clicks++;
            if(clicks >= 5) {
                let p = prompt("رمز الدخول للمدير:");
                if(p === systemData.password) {
                    document.getElementById('admin-panel').classList.add('active');
                    document.getElementById('admin-panel').style.display = 'block';
                }
                clicks = 0;
            }
        };

        function closeAdmin() { document.getElementById('admin-panel').style.display = 'none'; }
        function saveData() { localStorage.setItem('su_global_db', JSON.stringify(systemData)); renderSite(); }
        function addSection() { 
            const n = document.getElementById('sec-name').value;
            if(n) { systemData.sections.push({id: Date.now(), name: n, items: []}); saveData(); }
        }

        renderSite();
    </script>
</body>
</html>
